/* ================== Chatforia App Styles ================== */
/* Consumes tokens from themes.css. No raw hexes for brand areas. */

/* --- CTA & control gradients --- */
:root { --switch-gradient: var(--cta-gradient); }

/* ================== CTAs / Links / Badges (site-wide) ================== */
.button-primary {
  position: relative;
  background: var(--cta-gradient);
  color: var(--cta-label);
  border: none;
  box-shadow: 0 6px 20px var(--shadow-accent);
  transition: filter .15s ease, box-shadow .15s ease, transform .05s ease;
}
.button-primary::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: var(--cta-overlay, transparent);
  pointer-events: none;
}
.button-primary > * { position: relative; z-index: 1; }
.button-primary:hover { filter: brightness(1.03); }
.button-primary:active { transform: translateY(1px); }

.oauth-button,
.secondary-cta {
  background: var(--card);
  color: var(--accent);
  border: 1px solid var(--border);
  box-shadow: none;
}

a, .link { color: var(--accent); }
a:hover, .link:hover { text-decoration: underline; filter: none; }

.badge-gold {
  background: color-mix(in oklab, var(--brand-gold) 14%, transparent);
  color: color-mix(in oklab, var(--brand-gold) 78%, #111);
  border: 1px solid color-mix(in oklab, var(--brand-gold) 35%, transparent);
}

/* ---------- Brand lockup (logo + word) ---------- */
.brand-lockup {
  display: inline-flex;
  align-items: baseline;        /* perfect baseline alignment */
  gap: 0.18rem;                 /* tight default gap */
}

/* The SVG box is square; tuck text under the C slightly */
.brand-lockup__logo {
  width: var(--logo-size, 44px);
  height: auto;
  display: inline-block;
  vertical-align: baseline;
  overflow: visible;            /* ensure no cropping */
  transform: translateY(0.06em);
  margin-right: -0.26em;        /* pulls “hatforia” closer */
}

.brand-lockup__name {
  line-height: 1;
  display: inline-block;
}

.brand-lockup__name--solid {
  color: var(--fg);             /* solid dark word */
  background: none;
  -webkit-text-fill-color: currentColor;
}

/* Hero-specific tweaks */
.auth-hero-lockup { --logo-size: 96px; }
.auth-hero-lockup .brand-lockup__logo {
  margin-left: -4px;
  margin-right: -0.28em;
  transform: translateY(0.06em);
}

/* === Optional text-based brand wordmark (not used here) === */
.brand-wordmark {
  display: inline-flex;
  align-items: baseline;
  gap: 2px;
  font-family: Inter, ui-sans-serif, system-ui;
  font-weight: 800;
  font-size: var(--wm-size, 28px);
  line-height: 1;
  letter-spacing: -0.01em;
}
.brand-wordmark__c {
  font-family: 'Syne', Inter, ui-sans-serif, system-ui;
  font-weight: 800;
  font-size: calc(var(--wm-size, 28px) * 1.25);
  line-height: .8;
  background: linear-gradient(90deg, var(--logo-stop-1, #FFB300), var(--logo-stop-2, #FF8A00), var(--logo-stop-3, #FF6A00));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.04));
}
.brand-wordmark__rest { color: var(--fg); }

/* ================== Auth background (theme-aware) ================== */
.auth-page {
  min-height: 100vh;
  background:
    radial-gradient(1200px 600px at 10% -10%,
      color-mix(in oklab, var(--brand-purple) 22%, transparent), transparent),
    radial-gradient(900px 500px at 110% 110%,
      color-mix(in oklab, var(--brand-gold) 14%, transparent), transparent);
}
:root[data-theme="dark"] .auth-page,
:root[data-theme="midnight"] .auth-page,
:root[data-theme="amoled"] .auth-page {
  background:
    radial-gradient(1200px 600px at 10% -10%,
      color-mix(in oklab, var(--brand-indigo) 26%, transparent), transparent),
    radial-gradient(900px 500px at 110% 110%,
      color-mix(in oklab, var(--brand-blue) 16%, transparent), transparent);
}

/* ================== Gradient text helpers (for accents only) ================== */
.text-logo-gradient {
  background: var(--logo-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent !important;
  -webkit-text-fill-color: transparent;
}
.text-blue-purple,
.auth-page .mantine-Anchor-root,
.auth-page a.auth-link-gradient {
  background: var(--cta-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent !important;
  -webkit-text-fill-color: transparent;
}
.auth-page .mantine-Anchor-root,
.auth-page a.auth-link-gradient { text-decoration: none; }
.auth-page .mantine-Anchor-root:hover,
.auth-page a.auth-link-gradient:hover { text-decoration: underline; filter: brightness(1.05); }

/* ================== Optional light-mode page tint ================== */
.app-surface--tint {
  background:
    radial-gradient(800px 480px at 10% -10%,
      color-mix(in oklab, var(--brand-violet) 8%, transparent), transparent),
    radial-gradient(700px 420px at 110% 110%,
      color-mix(in oklab, var(--brand-cyan) 10%, transparent), transparent),
    var(--bg);
}

/* ================== App-wide Surfaces & Mantine mapping ================== */
html, body, #root { background: var(--bg); color: var(--fg); }
.mantine-AppShell-root, .mantine-AppShell-main { background: var(--bg); color: var(--fg); }
.sidebar, .left-rail, .content-panel, .chat-main { background: var(--bg); color: var(--fg); border-color: var(--border); }
:root, [data-mantine-color-scheme] { --mantine-color-body: var(--bg); --mantine-color-text: var(--fg); }
.mantine-AppShell-root, .mantine-AppShell-main, .mantine-AppShell-header, .mantine-AppShell-navbar, .mantine-AppShell-aside, .mantine-AppShell-footer, .mantine-Header-root, .mantine-Navbar-root, .mantine-Aside-root, .mantine-Footer-root {
  background: var(--bg) !important;
  color: var(--fg) !important;
  border-color: var(--border) !important;
}
.mantine-Card-root, .mantine-Paper-root { background: var(--card); color: var(--fg); border-color: var(--border); }

/* ================== Switch & Checkbox gradients (global) ================== */
.mantine-Switch-track[data-checked],
.mantine-Switch-track[data-checked="true"] {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner .mantine-Checkbox-icon { color: #fff; }

/* Robust ON-state selectors (v7) */
.mantine-Switch-root[data-checked] .mantine-Switch-track,
.mantine-Switch-root[data-checked="true"] .mantine-Switch-track,
.mantine-Switch-input:checked ~ .mantine-Switch-track {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner {
  background: var(--switch-gradient) !important;
  border-color: transparent !important;
}
.mantine-Checkbox-input:checked + .mantine-Checkbox-inner .mantine-Checkbox-icon { color: #fff !important; }

/* Smooth theme flips; respect reduced motion */
:root, .auth-page,
.mantine-Paper-root, .mantine-TextInput-input, .mantine-PasswordInput-input {
  transition: background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease;
}
@media (prefers-reduced-motion: reduce) {
  :root, .auth-page,
  .mantine-Paper-root, .mantine-TextInput-input, .mantine-PasswordInput-input {
    transition: none;
  }
}

/* Headline readability */
.auth-hero-title { color: var(--fg); }
:root[data-theme="dark"] .auth-hero-title,
:root[data-theme="midnight"] .auth-hero-title {
  color: #eef2ff;
  text-shadow: 0 1px 0 rgba(0,0,0,.18);
}

/* Right column (form) essentials */
.auth-login .mantine-InputWrapper-label,
.auth-login .mantine-Checkbox-label,
.auth-login .mantine-Divider-label { color: var(--fg) !important; }
.auth-login .mantine-TextInput-input,
.auth-login .mantine-PasswordInput-input {
  color: var(--fg) !important;
  background: var(--card);
  border-color: var(--border);
}

/* Make placeholders visible on dark themes */
.auth-login .mantine-TextInput-input::placeholder,
.auth-login .mantine-PasswordInput-input::placeholder {
  color: color-mix(in oklab, var(--fg) 72%, transparent) !important;
}
.auth-login .mantine-TextInput-input::-webkit-input-placeholder,
.auth-login .mantine-PasswordInput-input::-webkit-input-placeholder {
  color: color-mix(in oklab, var(--fg) 72%, transparent) !important;
}
.auth-login .mantine-TextInput-input:-ms-input-placeholder,
.auth-login .mantine-PasswordInput-input:-ms-input-placeholder {
  color: color-mix(in oklab, var(--fg) 72%, transparent) !important;
}

/* Auth page readability */
.auth-page .mantine-InputWrapper-label,
.auth-page .mantine-Text-root,
.auth-page .mantine-Title-root,
.auth-page .mantine-List-itemLabel,
.auth-page .mantine-Alert-message,
.auth-page .mantine-Divider-label { color: var(--fg) !important; opacity: 1 !important; }

.auth-page .mantine-TextInput-input::placeholder,
.auth-page .mantine-PasswordInput-input::placeholder,
.auth-page input::placeholder,
.auth-page textarea::placeholder {
  color: color-mix(in oklab, var(--fg) 72%, transparent) !important;
  opacity: 1 !important;
}

.auth-page .mantine-Anchor-root { color: var(--accent) !important; }
.auth-page .mantine-ThemeIcon-root { color: var(--cta-label) !important; }
.auth-page .mantine-Divider-label { color: var(--fg) !important; opacity: .85 !important; }
